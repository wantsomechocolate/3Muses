{{extend 'layout.html'}}

<div class="container-fluid style1">

	<div class='container'>


{{ if cart_information['error']==False: }}

	{{ for i in range(len(cart_information['cart_information_LOD'])): }}

		<div class="row cart-view-cart-row">

			<div class="col-md-1 col-md-offset-2 cart-view-cart-item-tn">
				{{ =cart_information['cart_information_LOD'][i]['product_image_url'] }}
			</div>

						
			<div class="col-xs-8 col-md-5 cart-view-cart-item-name cart-view-cart-row-child">

				<div> <!-- For vertically centering -->
					{{ =cart_information['cart_information_LOD'][i]['product_name'] }}
				</div>

			</div>

			<div class="col-xs-4 col-md-1 cart-view-cart-item-cost cart-view-cart-row-child">

				<div> <!-- For vertically centering -->
					{{ =cart_information['cart_information_LOD'][i]['product_cost'] }}
				</div>

			</div>

			<div class="col-xs-offset-8 col-xs-4 col-md-offset-0 col-md-1 cart-view-cart-item-remove-container cart-view-cart-row-child">
						
				{{ =cart_information['cart_information_LOD'][i]['product_delete_button'] }}

			</div>

		</div>


	{{pass}}

{{ else: }}

		<div class="row">

			<div class="col-md-8 col-md-offset-2 align-hcenter">

				{{ =cart_information['error_message'] }}

			</div>

		</div>

{{ pass }}



		<div class="row">

			<div class="col-md-3 col-md-offset-7 align-right">

				<form action="{{=URL('default','categories')}}">

					<input type="submit" value="Back to Shopping" class="btn btn-info cart-view-btn">

				</form>

			</div>

		</div>




	</div>

</div>



<!--The Address Container-->

<div class="container-fluid style2">

	<div class='container'>





{{ if address_information['error']==False: }}

	{{ for i in range(len(address_information['address_information_LOD'])): }}

		<div class="row">

			<div class="col-md-offset-2 col-md-6 cart-view-address-info  selected_address" id="{{ =address_information['address_information_LOD'][i]['id'] }}">

		{{ if address_information['address_information_LOD'][i]['default_address']: }}
				{{ =INPUT(_type='radio', _name='address', _value=address_information['address_information_LOD'][i]['id'], _checked='checked') }}
		{{ else: }}
				{{ =INPUT(_type='radio', _name='address', _value=address_information['address_information_LOD'][i]['id']) }}
		{{ pass }}

	  			<div class="cart-view-address-info-child">
	          	{{ =address_information['address_information_LOD'][i]['first_name'] }}
	          	{{ =address_information['address_information_LOD'][i]['last_name'] }}
	          	</div>
					          	
	          	<div class="cart-view-address-info-child">
	          	{{ =address_information['address_information_LOD'][i]['street_address_line_1'] }}
	          	{{ =address_information['address_information_LOD'][i]['street_address_line_2'] }}
	          	</div>

	          	<div class="cart-view-address-info-child">
	          	{{ =address_information['address_information_LOD'][i]['municipality'] }},
	          	{{ =address_information['address_information_LOD'][i]['administrative_area'] }}
	          	{{ =address_information['address_information_LOD'][i]['postal_code'] }}
	          	</div>

	          	<div class="cart-view-address-info-child">
	          	{{ =address_information['address_information_LOD'][i]['country'] }}
	          	</div>


		    </div> <!-- Close the div that can be clicked to pick shipping address -->


		    <div class="col-md-2 cart-view-address-controls">

	       		<div class="col-xs-6 col-md-12 cart-view-address-controls-child">
	            {{ =A('Edit', _href=URL('edit_address', vars=dict(pri_key=address_information['address_information_LOD'][i]['id'])), _class="btn btn-primary cart-view-address-controls-button") }}
	            </div>
	          	
	          	<div class="col-xs-6 col-md-12 cart-view-address-controls-child">
	            {{ =A('Delete', _href=URL('delete_address', vars=dict(pri_key=address_information['address_information_LOD'][i]['id'],redirect_url=URL('cart'))), _class="btn btn-danger cart-view-address-controls-button") }}
	            </div>

		    </div>


		</div>			
						<br/>
						<br/>

	{{pass}}  <!--For the for loop-->

{{ else: }}


		<div class="row">

			<div class="col-md-8 col-md-offset-2 align-hcenter">

				{{ =address_information['error_message'] }}

			</div>

		</div>


{{ pass }}




		<div class="row">

			<div class="col-md-3 col-md-offset-7 align-right">

				<form action="{{=URL('default','add_new_address')}}">

				    <input type="submit" value="Add New Address" class="btn btn-info cart-view-btn">

				</form>

			</div>

		</div>




	</div>

</div>






<!--The Shipping Container-->

<div class="container-fluid style1">

	<div class='container' id='shipping_target'>


		<!-- All styles and classes are done server side for the shipping-->
		<div class="row">
			<div class="col-md-offset-2 col-md-8 align-hcenter">	
				{{=shipping_information['error_message']}}
			</div>
		</div>


	</div>

</div>


<!--The Payment Container-->

<div id="main" class="wrapper style2">

	<div id='content' class='container'>

		<div class='muses_cart' id = 'cart_card'>
			<!--<h1>How You Are Paying</h1>-->

			<div class="col-md-offset-2 col-md-8 align-hcenter">
				Pay with Card
			</div>

				<div class="col-md-offset-3 col-md-7 align-hcenter">

					{{ if card_information['error']: }}
						{{ =card_information['error_message'] }}
					{{ else: }}

						{{ for i in range(len(card_information['card_information_LOD'])): }}

							<div class="">

								{{ =card_information['card_information_LOD'][i] }}

							</div>

						{{ pass }}


					{{ pass }}



				</div>

					<div class="row">

						<div class="col-md-3 col-md-offset-7 align-right">
							
							<form action="{{=URL('default','add_new_card')}}">
							    <input type="submit" value="Add New Card" class="btn cart-view-btn">
							</form>

						</div>

					</div>

			<br/>

			<div class="col-md-offset-2 col-md-8 align-hcenter cart_payment_option_container">
				Other Payment Options
			</div>

				<div class="cart_payment_sub_options_container">

					<div class="col-md-offset-3 col-md-7 align-hcenter">

						Paypal

					</div>

					<div class="col-md-offset-3 col-md-7 align-hcenter">

						Bitcoin
						
					</div>

					<div class="col-md-offset-3 col-md-7 align-hcenter">

						Dwolla
						
					</div>

				</div>

		</div>

	</div>

</div>


<div id="main" class="wrapper style1">

	<div id='content' class='container'>

		<div class='muses_cart' id = 'cart_checkout_button_div'>


			<div class="row">

				<div class="col-md-3 col-md-offset-7 align-right">

					<!--<a class="btn btn-sucess" href=" cbcb =URL('checkout') cbcb ">Checkout</a>-->

					<form action="{{=URL('checkout')}}">
					    <input type="submit" value="Checkout" class="btn btn-success cart-view-btn">
					</form>

				</div>

			</div>

		</div>

	</div>

</div>
